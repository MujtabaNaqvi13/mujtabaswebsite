<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mujtaba Naqvi - Developer & Student</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="/favicon.png">
    <style>
        /* CSS Variables for Theming */
        :root {
            /* Light Theme (Default) */
            --bg-primary: #f8f9fa;
            --bg-secondary: #ffffff;
            --text-primary: #212529;
            --text-secondary: #495057;
            --accent: #4361ee;
            --accent-light: #4895ef;
            --shadow: rgba(0, 0, 0, 0.1);
            --card-bg: #ffffff;
            --progress-bg: #e9ecef;
            --nav-bg: rgba(255, 255, 255, 0.95);
            --transition: all 0.3s ease;
        }

        /* Dark Theme */
        [data-theme="dark"] {
            --bg-primary: #121212;
            --bg-secondary: #1e1e1e;
            --text-primary: #f8f9fa;
            --text-secondary: #adb5bd;
            --accent: #7209b7;
            --accent-light: #4361ee;
            --shadow: rgba(0, 0, 0, 0.4);
            --card-bg: #2d2d2d;
            --progress-bg: #3a3a3a;
            --nav-bg: rgba(30, 30, 30, 0.95);
        }

        /* Fun Theme */
        [data-theme="fun"] {
            --bg-primary: #f0f9ff;
            --bg-secondary: #ffffff;
            --text-primary: #1e3a8a;
            --text-secondary: #1e40af;
            --accent: #ec4899;
            --accent-light: #f472b6;
            --shadow: rgba(236, 72, 153, 0.2);
            --card-bg: linear-gradient(135deg, #c7d2fe, #fbcfe8);
            --progress-bg: #e9d5ff;
            --nav-bg: rgba(199, 210, 254, 0.95);
        }

        /* High Contrast Theme */
        [data-theme="high-contrast"] {
            --bg-primary: #000000;
            --bg-secondary: #000000;
            --text-primary: #ffffff;
            --text-secondary: #ffffff;
            --accent: #ffff00;
            --accent-light: #ffff00;
            --shadow: rgba(255, 255, 0, 0.4);
            --card-bg: #000000;
            --progress-bg: #333333;
            --nav-bg: #000000;
            --border: 2px solid #ffff00;
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: var(--transition);
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        section {
            padding: 80px 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1, h2, h3, h4 {
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        h1 {
            font-size: 3.5rem;
        }

        h2 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }

        h2:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--accent);
            border-radius: 2px;
        }

        p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        a {
            color: var(--accent);
            text-decoration: none;
            transition: var(--transition);
        }

        a:hover {
            color: var(--accent-light);
        }

        .btn {
            display: inline-block;
            padding: 12px 28px;
            background-color: var(--accent);
            color: white;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: 0 4px 10px var(--shadow);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px var(--shadow);
            color: white;
            background-color: var(--accent-light);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }

        .btn-outline:hover {
            background-color: var(--accent);
            color: white;
        }

        .card {
            background-color: var(--bg-secondary);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 10px 30px var(--shadow);
            transition: var(--transition);
            height: 100%;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px var(--shadow);
        }

        .text-center {
            text-align: center;
        }

        .section-hidden {
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s;
        }

        .section-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background-color: var(--nav-bg);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px var(--shadow);
            padding: 15px 0;
            transition: var(--transition);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent);
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 30px;
        }

        .nav-links a {
            color: var(--text-primary);
            font-weight: 500;
            position: relative;
        }

        .nav-links a:after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent);
            transition: var(--transition);
        }

        .nav-links a:hover:after {
            width: 100%;
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-left: 20px;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            color: var(--accent);
            transform: rotate(30deg);
        }

        .hamburger {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--text-primary);
        }

        /* Search Bar Styles */
        .search-container {
            margin-left: 20px;
        }

        #search-input {
            padding: 8px 15px;
            border-radius: 20px;
            border: 1px solid var(--text-secondary);
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            transition: var(--transition);
        }

        #search-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        #search-results {
            position: absolute;
            top: 60px;
            right: 20px;
            background-color: var(--bg-secondary);
            box-shadow: 0 4px 15px var(--shadow);
            border-radius: 8px;
            padding: 10px;
            display: none;
            z-index: 999;
            max-width: 300px;
        }

        #search-results ul {
            list-style: none;
        }

        #search-results li {
            margin: 5px 0;
        }

        #search-results a {
            color: var(--text-primary);
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding-top: 120px;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            margin-bottom: 1.5rem;
            opacity: 0;
            animation: fadeInUp 1s forwards 0.5s;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2.5rem;
            opacity: 0;
            animation: fadeInUp 1s forwards 0.8s;
        }

        .hero-btns {
            opacity: 0;
            animation: fadeInUp 1s forwards 1.1s;
        }

        .hero-btns .btn {
            margin: 0 10px;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* About Section */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }

        .about-text h2 {
            text-align: left;
        }

        .about-text h2:after {
            left: 0;
            transform: none;
        }

        .about-image {
            position: relative;
        }

        .about-image img {
            width: 100%;
            border-radius: 20px;
            box-shadow: 0 20px 40px var(--shadow);
        }

        /* Journey Section */
        .journey-content {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            padding: 20px 0;
        }

        .journey-timeline {
            position: relative;
            padding-left: 30px;
        }

        .journey-timeline:before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: var(--accent);
            border-radius: 2px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
        }

        .timeline-item:before {
            content: '';
            position: absolute;
            left: -36px;
            top: 0;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: var(--accent);
            border: 3px solid var(--bg-primary);
            z-index: 1;
        }

        .timeline-date {
            font-weight: 600;
            color: var(--accent);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .timeline-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px var(--shadow);
            border-left: 4px solid var(--accent-light);
            transition: var(--transition);
        }

        .timeline-card:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 25px var(--shadow);
        }

        .timeline-card h3 {
            color: var(--accent);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .timeline-card p {
            color: var(--text-secondary);
            margin-bottom: 0;
            line-height: 1.5;
        }

        /* Skills Section */
        .skills-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .skill-category {
            margin-bottom: 40px;
        }

        .skill-item {
            margin-bottom: 25px;
        }

        .skill-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .skill-name {
            font-weight: 600;
        }

        .skill-percentage {
            color: var(--accent);
        }

        .progress-bar {
            height: 10px;
            background-color: var(--progress-bg);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--accent);
            border-radius: 10px;
            width: 0;
            transition: width 2s ease-in-out;
        }

        /* Stats Section */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            text-align: center;
        }

        .stat-item {
            padding: 30px 20px;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 11px;
            display: block;
        }

        .stat-label {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        /* Funfacts Section */
        .funfacts-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }

        .funfact-card {
            perspective: 1000px;
            height: 200px;
            cursor: pointer;
        }

        .funfact-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .funfact-card:hover .funfact-inner {
            transform: rotateY(180deg);
        }

        .funfact-front, .funfact-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            border-radius: 12px;
        }

        .funfact-front {
            background-color: var(--accent);
            color: white;
        }

        .funfact-front i {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .funfact-back {
            background-color: var(--accent-light);
            color: white;
            transform: rotateY(180deg);
            text-align: center;
        }

        /* Jokes Section */
        .jokes-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .joke-box {
            padding: 40px;
            margin-bottom: 40px;
            position: relative;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .joke-text {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .punchline {
            font-weight: 600;
            color: var(--accent);
            font-size: 1.3rem;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .reveal-btn {
            margin-top: 20px;
        }

        .new-joke-btn {
            margin-top: 30px;
        }

        /* Games Section */
        .games-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .game-card {
            text-align: center;
            padding: 30px;
        }

        .game-icon {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 20px;
        }

        /* Typing Game */
        .typing-game {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .quote-display {
            font-size: 1.5rem;
            margin-bottom: 30px;
            line-height: 1.6;
            min-height: 150px;
        }

        .quote-input {
            width: 100%;
            height: 150px;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid var(--text-secondary);
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 1.2rem;
            resize: none;
            margin-bottom: 20px;
        }

        .typing-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }

        /* Reaction Game */
        .reaction-game {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .reaction-instructions {
            margin-bottom: 30px;
        }

        .reaction-box {
            width: 300px;
            height: 300px;
            margin: 0 auto 30px;
            background-color: var(--bg-secondary);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .target {
            width: 60px;
            height: 60px;
            background-color: var(--accent);
            border-radius: 50%;
            position: absolute;
            transition: all 0.3s ease;
            display: none;
        }

        .reaction-stats {
            margin-bottom: 30px;
        }

        /* Memory Game */
        .memory-game {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .memory-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .memory-card {
            width: 100%;
            height: 100px;
            background-color: var(--progress-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            border-radius: 8px;
            transition: transform 0.3s;
        }

        .memory-card.flipped {
            background-color: var(--accent);
            color: white;
        }

        .memory-stats {
            display: flex;
            justify-content: space-around;
        }

        /* Quizzes Section */
        .quizzes-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .quiz-box {
            padding: 40px;
            margin-bottom: 40px;
        }

        .quiz-question {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quiz-option {
            padding: 10px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--text-secondary);
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .quiz-option:hover {
            background-color: var(--accent-light);
        }

        .quiz-result {
            font-size: 1.3rem;
            margin-top: 20px;
            color: var(--accent);
        }

        /* Lessons & Books Section */
        .lessons-books {
            background-color: var(--bg-secondary);
        }

        .lessons-container, .books-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .lesson-card, .book-card {
            padding: 25px;
            position: relative;
        }

        .lesson-card h3, .book-card h3 {
            color: var(--accent);
            margin-bottom: 15px;
        }

        .lesson-card p, .book-card p {
            font-style: italic;
            color: var(--text-secondary);
        }

        .lesson-number, .book-number {
            position: absolute;
            top: -15px;
            left: -15px;
            width: 40px;
            height: 40px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Footer */
        footer {
            background-color: var(--bg-secondary);
            padding: 60px 0 30px;
            text-align: center;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .social-links {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .social-links a {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .social-links a:hover {
            transform: translateY(-5px);
            background-color: var(--accent-light);
        }

        .back-to-top {
            margin-top: 30px;
        }

        .copyright {
            margin-top: 30px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: var(--bg-secondary);
            width: 90%;
            max-width: 500px;
            border-radius: 15px;
            padding: 30px;
            position: relative;
            transform: translateY(50px);
            transition: all 0.3s ease;
        }

        .modal.visible .modal-content {
            transform: translateY(0);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-primary);
        }

        /* NEW STYLES FOR ADDED FEATURES */

        /* AI Chat Assistant */
        .chat-assistant {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .chat-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 15px var(--shadow);
            transition: var(--transition);
        }

        .chat-toggle:hover {
            transform: scale(1.1);
        }

        .chat-container {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 350px;
            height: 450px;
            background-color: var(--bg-secondary);
            border-radius: 15px;
            box-shadow: 0 10px 30px var(--shadow);
            display: flex;
            flex-direction: column;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: var(--transition);
        }

        .chat-container.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .chat-header {
            padding: 15px;
            background-color: var(--accent);
            color: white;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            margin-bottom: 10px;
        }

        .message.bot {
            align-self: flex-start;
            background-color: var(--progress-bg);
            color: var(--text-primary);
        }

        .message.user {
            align-self: flex-end;
            background-color: var(--accent);
            color: white;
        }

        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid var(--progress-bg);
        }

        .chat-input input {
            flex: 1;
            padding: 10px 15px;
            border-radius: 20px;
            border: 1px solid var(--progress-bg);
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }

        .chat-input button {
            margin-left: 10px;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 15px;
            cursor: pointer;
        }

        /* Progress Tracker */
        .progress-tracker {
            background-color: var(--bg-secondary);
            padding: 60px 0;
        }

        .progress-dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .progress-chart {
            padding: 20px;
            border-radius: 12px;
            background-color: var(--card-bg);
            box-shadow: 0 5px 15px var(--shadow);
        }

        .badges-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .badge {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            position: relative;
        }

        .badge.locked {
            background-color: var(--progress-bg);
            color: var(--text-secondary);
        }

        .badge-info {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            white-space: nowrap;
        }

        /* Customizable Dashboard */
        .dashboard-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
        }

        .dashboard-sidebar {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .dashboard-main {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .dashboard-widget {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px var(--shadow);
            min-height: 200px;
        }

        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .pin-widget {
            cursor: pointer;
            font-size: 1.2rem;
        }

        /* Offline Indicator */
        .offline-indicator {
            position: fixed;
            top: 80px;
            right: 20px;
            padding: 10px 15px;
            background-color: var(--accent);
            color: white;
            border-radius: 5px;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .offline-indicator.visible {
            opacity: 1;
            visibility: visible;
        }

        /* Accessibility Tools */
        .accessibility-tools {
            position: fixed;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            background-color: var(--card-bg);
            border-top-right-radius: 10px;
            border-bottom-right-radius: 10px;
            box-shadow: 0 0 15px var(--shadow);
            z-index: 999;
            padding: 10px;
        }

        .accessibility-tool {
            display: block;
            width: 40px;
            height: 40px;
            margin: 10px 0;
            border-radius: 50%;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .accessibility-tool:hover {
            background-color: var(--accent);
            color: white;
        }

        /* Screen Reader Only */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles for accessibility */
        button:focus, 
        input:focus, 
        textarea:focus, 
        a:focus {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        /* High Contrast Mode Adjustments */
        [data-theme="high-contrast"] button:focus, 
        [data-theme="high-contrast"] input:focus, 
        [data-theme="high-contrast"] textarea:focus, 
        [data-theme="high-contrast"] a:focus {
            outline: 3px solid var(--accent);
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            h1 {
                font-size: 3rem;
            }
            
            h2 {
                font-size: 2.2rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .about-text h2 {
                text-align: center;
            }
            
            .about-text h2:after {
                left: 50%;
                transform: translateX(-50%);
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background-color: var(--nav-bg);
                flex-direction: column;
                align-items: center;
                padding: 20px 0;
                clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
                transition: var(--transition);
            }
            
            .nav-links.active {
                clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
            }
            
            .nav-links li {
                margin: 15px 0;
            }
            
            .hamburger {
                display: block;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .journey-timeline {
                padding-left: 20px;
            }
            
            .journey-timeline:before {
                left: 10px;
            }
            
            .timeline-item:before {
                left: -26px;
            }
            
            .timeline-card {
                padding: 15px;
            }
        }

        @media (max-width: 576px) {
            h1 {
                font-size: 2.5rem;
            }
            
            h2 {
                font-size: 2rem;
            }
            
            section {
                padding: 60px 0;
            }
            
            .hero-btns .btn {
                display: block;
                margin: 10px auto;
                width: 80%;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .funfacts-container {
                grid-template-columns: 1fr;
            }
            
            .games-container {
                grid-template-columns: 1fr;
            }
            
            .lessons-container, .books-container {
                grid-template-columns: 1fr;
            }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        .large-text {
            font-size: 1.3rem;
        }

        /* Utility Classes */
        .mt-20 {
            margin-top: 20px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }

        /* Dropdown behavior: only show when open */
        .nav-dropdown .dropdown-menu {
            display: none;
            min-width: 180px;
            padding: 6px 0;
        }

        .nav-dropdown.open .dropdown-menu {
            display: block;
        }

        /* Prevent Lessons & Books heading from wrapping */
        .lessons-books h2 {
            white-space: nowrap;
        }

        /* Tic Tac Toe styles */
        .tictactoe-board {
            display: grid;
            grid-template-columns: repeat(3, 80px);
            gap: 8px;
            justify-content: center;
            margin: 20px 0;
        }

        .tictactoe-cell {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            background-color: var(--bg-primary);
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .tictactoe-cell.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <style>
            /* Small layout tweaks for search/dropdown */
            .search-container { position: relative; }
        </style>
        <div class="container nav-container">
            <a href="#" class="logo">Mujtaba Naqvi</a>
            <button class="hamburger" id="hamburger">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links" id="nav-links">
                <li><a href="#about">About</a></li>
                <li><a href="#journey">Journey</a></li>
                <li><a href="#skills">Skills</a></li>
                <li><a href="#stats">Stats</a></li>
                <li class="nav-dropdown">
                    <a href="#" class="dropdown-toggle" aria-expanded="false">Fun <i class="fas fa-caret-down"></i></a>
                    <ul class="dropdown-menu" aria-label="Fun menu">
                        <li><a href="#jokes">Jokes</a></li>
                        <li><a href="#games">Games</a></li>
                        <li><a href="#funfacts">Fun Facts</a></li>
                        <li><a href="#quizzes">Quizzes</a></li>
                    </ul>
                </li>
                <li><a href="#lessons-books">Lessons&nbsp;&amp;&nbsp;Books</a></li>
                <li><a href="#progress-tracker">Progress</a></li>
                <li><a href="#dashboard">Dashboard</a></li>
                <li><a href="#contact">Contact</a></li>
                <li>
                    <button class="theme-toggle" id="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                </li>
            </ul>
            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search search-icon" aria-hidden="true"></i>
                    <input type="search" id="search-input" placeholder="Search the site — try \"jokes\", \"funfacts\", or \"typing\"..." aria-label="Search the site" autocomplete="off">
                </div>
                <div id="search-results" class="search-results" role="listbox" aria-live="polite"></div>
            </div>
        </div>
    </nav>

    <!-- Accessibility Tools -->
    <div class="accessibility-tools">
        <button class="accessibility-tool" id="increase-text" title="Increase Text Size">
            <i class="fas fa-text-height"></i>
        </button>
        <button class="accessibility-tool" id="decrease-text" title="Decrease Text Size">
            <i class="fas fa-text-width"></i>
        </button>
        <button class="accessibility-tool" id="read-page" title="Read Page Content">
            <i class="fas fa-assistive-listening-systems"></i>
        </button>
        <button class="accessibility-tool" id="high-contrast-toggle" title="High Contrast Mode">
            <i class="fas fa-contrast"></i>
        </button>
    </div>

    <!-- Offline Indicator -->
    <div class="offline-indicator" id="offline-indicator">
        <i class="fas fa-wifi"></i> You are currently offline
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container hero-content">
            <h1>Hello, I'm <span style="color: var(--accent);">Mujtaba Naqvi</span></h1>
            <p>A Year 8 student with a passion for technology, coding, and creativity</p>
            <div class="hero-btns">
                <a href="#about" class="btn">Learn More About Me</a>
                <a href="#contact" class="btn btn-outline">Get In Touch</a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>About Me</h2>
                    <p>Hi! My name is Mujtaba Naqvi and I'm a Year 8 student with a big interest in technology and creativity. I started getting curious about coding a couple of years ago and have been teaching myself new programming languages and skills.</p>
                    <p>I enjoy building websites, experimenting with design, and playing with advanced languages like GoLang and C#. One of my proudest achievements is creating this website, as it shows my progress. I've also learned GitHub collaboration and version control.</p>
                    <p>At school, I enjoy Maths, Science, and English, as they sharpen logical, creative, and communication skills. Outside of coding, I enjoy discovering fun tech facts and humor through computer jokes.</p>
                    <p>My goal is to keep improving, learn advanced programming, and maybe create something people worldwide can use. I'm a student with a developer's mindset: curious, hardworking, and ready to face challenges.</p>
                    <a href="#skills" class="btn mt-20">View My Skills</a>
                </div>
                <div class="about-image">
                    <img src="https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2069&q=80" alt="Coding Setup">
                </div>
            </div>
        </div>
    </section>

    <!-- Journey Section -->
    <section class="journey" id="journey">
        <div class="container">
            <h2>Personal Timeline (2011–2025)</h2>
            <div class="journey-content">
                <div class="journey-timeline">
                    <p class="journey-note"><em>Editable timeline — replace any text as needed.</em></p>

                    <div class="timeline-item">
                        <div class="timeline-date">2011 — Birth and Early Life</div>
                        <div class="timeline-card">
                            <h3>16 August 2011 — Birth</h3>
                            <p>I was born on 16 August 2011 at Gulshan Hospital, Karachi, Pakistan. I was born into a Shia Muslim family and community, which formed the cultural and religious foundation of my life.</p>

                            <h4>August–October 2011 — Early Infancy in Karachi</h4>
                            <p>I lived in Karachi for the first two months of my life before my family moved overseas due to my father’s employment.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2011–2018 — Early Childhood Abroad</div>
                        <div class="timeline-card">
                            <h3>Late 2011 — Relocation Due to Father’s Job</h3>
                            <p>My family moved overseas because my father received a work opportunity. We lived there for approximately seven years, which covered most of my early childhood.</p>
                            <p>During this period:</p>
                            <ul>
                                <li>I grew up in a Muslim environment outside Pakistan</li>
                                <li>I learned a basic level of Arabic (which I later forgot)</li>
                                <li>My family travelled back to Pakistan roughly every six months, helping me stay connected to relatives and culture</li>
                            </ul>

                            <h4>2014 — Family Milestone</h4>
                            <p>10 August 2014 — Sister Born: My sister was born on 10 August 2014. I was nearly three years old at the time, and this marked my first experience of becoming an older sibling.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2017–2018 — Transition Years</div>
                        <div class="timeline-card">
                            <h3>2017 — First Visit to Australia</h3>
                            <p>In 2017, my family visited Australia for the first time. This visit later became significant, as Australia eventually became our permanent home.</p>

                            <h3>Around 2018 — Move to Sharjah</h3>
                            <p>My family moved to Sharjah, where we lived for approximately three to four years. This period exposed me to a multicultural environment while still living in a Muslim-majority society.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2019 — Permanent Move to Australia</div>
                        <div class="timeline-card">
                            <h3>2019 — Migration to Auburn, NSW</h3>
                            <p>In 2019, my family permanently moved to Australia, settling in Auburn, New South Wales. I was around eight years old. Auburn was important because it had a strong Muslim community and helped ease the transition into Australian life and schooling.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2020–2021 — Family Growth & Global Events</div>
                        <div class="timeline-card">
                            <h3>2 April 2020 — Younger Brother Born</h3>
                            <p>My younger brother was born on 2 April 2020. I was eight years old at the time, and this increased my sense of responsibility within the family.</p>

                            <h3>2020–2021 — COVID-19 Pandemic</h3>
                            <p>During the COVID-19 pandemic: schools shifted to remote learning, families spent extended time at home, and daily routines changed significantly. This period indirectly influenced my growing interest in technology and computers.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2022 — Hebersham & Beginning Coding</div>
                        <div class="timeline-card">
                            <h3>October 2022 — Move to Hebersham</h3>
                            <p>In October 2022, my family moved to Hebersham. I attended Hebersham Public School.</p>

                            <h3>2022 — Starting My Coding Journey</h3>
                            <p>In 2022, I began learning coding seriously. I developed an interest in how software and websites work, which later became a long-term skill and passion.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2023–Mid 2024 — School Transition</div>
                        <div class="timeline-card">
                            <h3>Blacktown Boys High School</h3>
                            <p>After Hebersham Public School, I attended Blacktown Boys High School until mid-2024. This helped me adjust to high school expectations and responsibilities.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">2024 — Sunbury & Skill Development</div>
                        <div class="timeline-card">
                            <h3>26 August 2024 — Move to Sunbury, Victoria</h3>
                            <p>On 26 August 2024, my family moved to Sunbury, Victoria. This was a major cultural adjustment, as the area felt more traditionally Australian and less diverse than previous locations.</p>

                            <h3>2024 — Coding Certifications & AI Exposure</h3>
                            <p>In 2024, I earned Coddy Tech certificates in Golang, HTML, CSS, and JavaScript. Around this time, I also began exploring artificial intelligence tools, alongside my programming studies.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">Late 2025 — Tarneit & Present Day</div>
                        <div class="timeline-card">
                            <h3>November 2025 — Move to Tarneit, Victoria</h3>
                            <p>In November 2025, my family moved to Tarneit. The area has a larger Indian, Pakistani, and Muslim community, which felt more familiar after living in Sunbury.</p>

                            <p>I am currently 14 years old, continuing my education and developing my skills in coding, technology, and AI.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-date">Reflection</div>
                        <div class="timeline-card">
                            <h3>Overall Reflection</h3>
                            <p>My life has involved growing up across Pakistan, the Middle East, and Australia. Frequent moves, exposure to different cultures, and strong community influences have shaped my adaptability and interests. Beginning coding in 2022 and earning certifications in 2024 marked an important step toward my future goals in technology.</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section class="skills" id="skills">
        <div class="container">
            <h2>My Skills</h2>
            <div class="skills-container">
                <div class="skill-category">
                    <h3>💻 Coding Skills</h3>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">HTML</span>
                            <span class="skill-percentage">90%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="90"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">CSS</span>
                            <span class="skill-percentage">85%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="85"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">JavaScript</span>
                            <span class="skill-percentage">80%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="80"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">Python</span>
                            <span class="skill-percentage">75%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="75"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">GoLang</span>
                            <span class="skill-percentage">65%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="65"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">C#</span>
                            <span class="skill-percentage">60%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="60"></div>
                        </div>
                    </div>
                </div>
                
                <div class="skill-category">
                    <h3>📚 School Skills</h3>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">Mathematics</span>
                            <span class="skill-percentage">95%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="95"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">Science</span>
                            <span class="skill-percentage">90%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="90"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">English</span>
                            <span class="skill-percentage">85%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="85"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">Problem Solving</span>
                            <span class="skill-percentage">90%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="90"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-header">
                            <span class="skill-name">Creativity</span>
                            <span class="skill-percentage">88%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" data-width="88"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats" id="stats">
        <div class="container">
            <h2>My Stats</h2>
            <div class="stats-container">
                <div class="card stat-item">
                    <span class="stat-number" data-target="5">0</span>
                    <span class="stat-label">Projects Completed</span>
                </div>
                <div class="card stat-item">
                    <span class="stat-number" data-target="600">0</span>
                    <span class="stat-label">Hours Coding</span>
                </div>
                <div class="card stat-item">
                    <span class="stat-number" data-target="50">0</span>
                    <span class="stat-label">Thousand Lines of Code</span>
                </div>
                <div class="card stat-item">
                    <span class="stat-number" data-target="200">0</span>
                    <span class="stat-label">GitHub Commits</span>
                </div>
                <div class="card stat-item">
                    <span class="stat-number" data-target="500">0</span>
                    <span class="stat-label">Cups of Coffee</span>
                </div>
                <div class="card stat-item">
                    <span class="stat-number" data-target="8">0</span>
                    <span class="stat-label">Languages Learned</span>
                </div>
                <div class="card stat-item">
                    <span class="stat-number" data-target="50">0</span>
                    <span class="stat-label">Funfacts Collected</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Funfacts Section -->
    <section class="funfacts" id="funfacts">
        <div class="container">
            <h2>Tech Funfacts</h2>
            <div class="funfacts-container">
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-bug"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>The first computer "bug" was an actual moth trapped in a machine (1947).</p>
                        </div>
                    </div>
                </div>
                
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-rocket"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>Apollo 11 computer had less power than a phone calculator.</p>
                        </div>
                    </div>
                </div>
                
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-money-bill-wave"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>More than 90% of money today exists only digitally.</p>
                        </div>
                    </div>
                </div>
                
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-robot"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>The word "robot" comes from a Czech word meaning "forced labor."</p>
                        </div>
                    </div>
                </div>
                
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-microchip"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>Moore's Law: computing power doubles every 2 years.</p>
                        </div>
                    </div>
                </div>
                
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-coffee"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>The first webcam monitored a coffee pot at Cambridge University.</p>
                        </div>
                    </div>
                </div>
                
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-keyboard"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>QWERTY keyboard was designed to slow typists down to prevent jamming.</p>
                        </div>
                    </div>
                </div>
                
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-lemon"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>The first computer mouse was made of wood.</p>
                        </div>
                    </div>
                </div>
                
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-envelope"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>Email existed before the World Wide Web.</p>
                        </div>
                    </div>
                </div>
                
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div>
                                <i class="fas fa-code"></i>
                                <h3>Did you know?</h3>
                            </div>
                        </div>
                        <div class="funfact-back">
                            <p>There are over 700 programming languages.</p>
                        </div>
                    </div>
                </div>

                <!-- Added user funfacts -->
                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-lemon"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Bananas are berries, but strawberries aren’t.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-water"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Octopuses have three hearts.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-honey-pot"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Honey never spoils — jars found in ancient tombs are still edible.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-fish"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Sharks existed before trees.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-smile"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>The human nose can remember about 50,000 different scents.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-chess"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>There are more possible games of chess than atoms in the observable universe.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-cube"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Wombats produce cube-shaped poop.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-brain"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Your brain burns about 20% of your body’s energy.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-bolt"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Lightning is hotter than the surface of the sun.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-ants"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Ants don’t sleep like humans — they take tiny power naps.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-leaf"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Butterflies can taste with their feet.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-building"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>The Eiffel Tower grows about 15 cm taller in summer.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-cow"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Cows have best friends and get stressed when separated.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-dolphin"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Dolphins have names for each other.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-clock"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>A day on Venus is longer than a year on Venus.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-dna"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Humans share about 60% of DNA with bananas.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-history"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>The shortest war in history lasted 38–45 minutes.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-eye"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>You blink about 20,000 times a day.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-fire"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Some metals explode in water.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-cloud"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>The average cloud can weigh over a million tons.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-cat"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Cats can’t taste sweetness.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-ghost"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Your stomach acid can dissolve metal.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-tree"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>There are more trees on Earth than stars in the Milky Way.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-spider"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Spiders can’t fly — but some use wind to travel long distances.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-heartbeat"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Your body replaces most of its cells every 7–10 years.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-feather"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Birds don’t pee — it comes out with their poop.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-feather-alt"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>A group of flamingos is called a flamboyance.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-lightbulb"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Humans glow slightly in the dark (we just can’t see it).</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-cloud-rain"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>Rain has a smell called petrichor.</p></div>
                    </div>
                </div>

                <div class="funfact-card">
                    <div class="funfact-inner">
                        <div class="funfact-front">
                            <div><i class="fas fa-brain"></i><h3>Did you know?</h3></div>
                        </div>
                        <div class="funfact-back"><p>The brain named itself.</p></div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Jokes Section -->
    <section class="jokes" id="jokes">
        <div class="container">
            <h2>Computer Jokes</h2>
            <div class="jokes-container">
                <div class="card joke-box">
                    <div class="joke-text" id="joke-text">Why don't programmers like nature?</div>
                    <div class="punchline" id="punchline">Too many bugs.</div>
                    <button class="btn reveal-btn" id="reveal-btn">Reveal Punchline</button>
                </div>
                <button class="btn new-joke-btn" id="new-joke-btn">Get New Joke</button>
            </div>
        </div>
    </section>

    <!-- Games Section -->
    <section class="games" id="games">
        <div class="container">
            <h2>Mini-Games</h2>
            <div class="games-container">
                <div class="card game-card">
                    <div class="game-icon">
                        <i class="fas fa-keyboard"></i>
                    </div>
                    <h3>Typing Test</h3>
                    <p>Test your typing speed and accuracy</p>
                    <button class="btn mt-20" id="typing-game-btn">Play Game</button>
                </div>
                <div class="card game-card">
                    <div class="game-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>Reaction Time</h3>
                    <p>Test how fast you can react to visual stimuli</p>
                    <button class="btn mt-20" id="reaction-game-btn">Play Game</button>
                </div>
                <div class="card game-card">
                    <div class="game-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>Memory Game</h3>
                    <p>Test your memory by matching pairs</p>
                    <button class="btn mt-20" id="memory-game-btn">Play Game</button>
                </div>
                <div class="card game-card">
                    <div class="game-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3>Tic Tac Toe</h3>
                    <p>Play a quick game against a friend or the CPU</p>
                    <button class="btn mt-20" id="tictactoe-game-btn">Play Game</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Quizzes Section -->
    <section class="quizzes" id="quizzes">
        <div class="container">
            <h2>🧪 Interactive Quizzes</h2>
            <div class="quizzes-container">
                <div class="card quiz-box">
                    <div class="quiz-question" id="quiz-question"></div>
                    <div class="quiz-options" id="quiz-options"></div>
                    <div class="quiz-result" id="quiz-result"></div>
                    <button class="btn new-quiz-btn mt-20" id="new-quiz-btn">Next Question</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Progress Tracker Section -->
    <section class="progress-tracker" id="progress-tracker">
        <div class="container">
            <h2>Progress Tracker</h2>
            <div class="progress-dashboard">
                <div class="progress-chart">
                    <h3>Your Performance</h3>
                    <canvas id="progress-chart" width="400" height="300"></canvas>
                </div>
                <div class="badges-container">
                    <h3>Your Badges</h3>
                    <div class="badge" id="quiz-badge">
                        <i class="fas fa-brain"></i>
                        <div class="badge-info">Quiz Master</div>
                    </div>
                    <div class="badge locked" id="typing-badge">
                        <i class="fas fa-keyboard"></i>
                        <div class="badge-info">Typing Guru</div>
                    </div>
                    <div class="badge locked" id="memory-badge">
                        <i class="fas fa-memory"></i>
                        <div class="badge-info">Memory Master</div>
                    </div>
                    <div class="badge locked" id="reaction-badge">
                        <i class="fas fa-bolt"></i>
                        <div class="badge-info">Quick Reflexes</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Customizable Dashboard Section -->
    <section class="dashboard" id="dashboard">
        <div class="container">
            <h2>Your Dashboard</h2>
            <div class="dashboard-container">
                <div class="dashboard-sidebar">
                    <h3>Customize Your View</h3>
                    <div class="widget-selector">
                        <h4>Add Widgets:</h4>
                        <label><input type="checkbox" name="widget" value="recent-scores" checked> Recent Scores</label>
                        <label><input type="checkbox" name="widget" value="favorite-games" checked> Favorite Games</label>
                        <label><input type="checkbox" name="widget" value="suggestions" checked> Suggestions</label>
                        <label><input type="checkbox" name="widget" value="progress"> Progress Overview</label>
                    </div>
                    <div class="theme-selector mt-20">
                        <h4>Dashboard Theme:</h4>
                        <select id="dashboard-theme">
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                            <option value="fun">Fun</option>
                            <option value="high-contrast">High Contrast</option>
                        </select>
                    </div>
                </div>
                <div class="dashboard-main">
                    <div class="dashboard-widget" data-widget="recent-scores">
                        <div class="widget-header">
                            <h3>Recent Scores</h3>
                            <span class="pin-widget"><i class="fas fa-thumbtack"></i></span>
                        </div>
                        <ul id="recent-scores-list">
                            <li>No scores yet. Play some games!</li>
                        </ul>
                    </div>
                    <div class="dashboard-widget" data-widget="favorite-games">
                        <div class="widget-header">
                            <h3>Favorite Games</h3>
                            <span class="pin-widget"><i class="fas fa-thumbtack"></i></span>
                        </div>
                        <div id="favorite-games-list">
                            <p>Mark games as favorites to see them here!</p>
                        </div>
                    </div>
                    <div class="dashboard-widget" data-widget="suggestions">
                        <div class="widget-header">
                            <h3>Suggestions For You</h3>
                            <span class="pin-widget"><i class="fas fa-thumbtack"></i></span>
                        </div>
                        <p>Based on your activity, we recommend trying the Memory Game to improve your cognitive skills!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Lessons & Books Section -->
    <section class="lessons-books" id="lessons-books">
        <div class="container">
            <h2>Lessons&nbsp;&amp;&nbsp;Books</h2>
            
            <h3 class="text-center" style="margin-top: 40px;">📚 Wise Life Lessons</h3>
            <div class="lessons-container">
                <div class="card lesson-card">
                    <div class="lesson-number">1</div>
                    <h3>Embrace Failure</h3>
                    <p>Failure is not the opposite of success—it's part of it.</p>
                </div>
                <div class="card lesson-card">
                    <div class="lesson-number">2</div>
                    <h3>Value Time</h3>
                    <p>Time is the most valuable currency; spend it wisely.</p>
                </div>
                <div class="card lesson-card">
                    <div class="lesson-number">3</div>
                    <h3>True Strength</h3>
                    <p>True strength is found in kindness and patience.</p>
                </div>
                <div class="card lesson-card">
                    <div class="lesson-number">4</div>
                    <h3>Share Knowledge</h3>
                    <p>Knowledge grows when shared.</p>
                </div>
                <div class="card lesson-card">
                    <div class="lesson-number">5</div>
                    <h3>Avoid Comparison</h3>
                    <p>Comparison steals joy; focus on your journey.</p>
                </div>
                <div class="card lesson-card">
                    <div class="lesson-number">6</div>
                    <h3>Practice Gratitude</h3>
                    <p>Gratitude turns little into enough.</p>
                </div>
                <div class="card lesson-card">
                    <div class="lesson-number">7</div>
                    <h3>Consistent Actions</h3>
                    <p>Small consistent actions build great achievements.</p>
                </div>
                <div class="card lesson-card">
                    <div class="lesson-number">8</div>
                    <h3>Listen More</h3>
                    <p>Listening is more powerful than speaking.</p>
                </div>
                <div class="card lesson-card">
                    <div class="lesson-number">9</div>
                    <h3>Be Adaptable</h3>
                    <p>Adaptability is the greatest survival skill.</p>
                </div>
                <div class="card lesson-card">
                    <div class="lesson-number">10</div>
                    <h3>Earn Respect</h3>
                    <p>Respect is earned by actions, not demanded by words.</p>
                </div>
            </div>

            <h3 class="text-center" style="margin-top: 60px;">📖 All-Time Great Books</h3>
            <div class="books-container">
                <div class="card book-card">
                    <div class="book-number">1</div>
                    <h3>To Kill a Mockingbird</h3>
                    <p>Harper Lee</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">2</div>
                    <h3>1984</h3>
                    <p>George Orwell</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">3</div>
                    <h3>Pride and Prejudice</h3>
                    <p>Jane Austen</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">4</div>
                    <h3>The Great Gatsby</h3>
                    <p>F. Scott Fitzgerald</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">5</div>
                    <h3>Moby-Dick</h3>
                    <p>Herman Melville</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">6</div>
                    <h3>War and Peace</h3>
                    <p>Leo Tolstoy</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">7</div>
                    <h3>Crime and Punishment</h3>
                    <p>Fyodor Dostoevsky</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">8</div>
                    <h3>The Catcher in the Rye</h3>
                    <p>J.D. Salinger</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">9</div>
                    <h3>One Hundred Years of Solitude</h3>
                    <p>Gabriel García Márquez</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">10</div>
                    <h3>The Lord of the Rings</h3>
                    <p>J.R.R. Tolkien</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">11</div>
                    <h3>Brave New World</h3>
                    <p>Aldous Huxley</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">12</div>
                    <h3>Anna Karenina</h3>
                    <p>Leo Tolstoy</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">13</div>
                    <h3>The Odyssey</h3>
                    <p>Homer</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">14</div>
                    <h3>Don Quixote</h3>
                    <p>Miguel de Cervantes</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">15</div>
                    <h3>The Brothers Karamazov</h3>
                    <p>Fyodor Dostoevsky</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">16</div>
                    <h3>The Hobbit</h3>
                    <p>J.R.R. Tolkien</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">17</div>
                    <h3>The Divine Comedy</h3>
                    <p>Dante Alighieri</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">18</div>
                    <h3>Meditations</h3>
                    <p>Marcus Aurelius</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">19</div>
                    <h3>The Alchemist</h3>
                    <p>Paulo Coelho</p>
                </div>
                <div class="card book-card">
                    <div class="book-number">20</div>
                    <h3>Sapiens: A Brief History of Humankind</h3>
                    <p>Yuval Noah Harari</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="container">
            <h2>Get In Touch</h2>
            <div class="contact-content text-center">
                <p>Have a question or want to work together? Feel free to contact me!</p>
                <a href="mailto:s.mujtaba.naqvi@outlook.com?subject=Contact%20from%20Website" class="btn mt-20" rel="noopener">Send Email</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="social-links">
                    <a href="#"><i class="fab fa-github"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
                <p>© 2023 Mujtaba Naqvi. All rights reserved.</p>
                <div class="back-to-top">
                    <a href="#home" class="btn btn-outline">Back to Top</a>
                </div>
                <p class="copyright">Designed and coded with ❤️ by Mujtaba Naqvi</p>
            </div>
        </div>
    </footer>

    <!-- AI Chat Assistant -->
    <div class="chat-assistant">
        <div class="chat-toggle" id="chat-toggle">
            <i class="fas fa-robot"></i>
        </div>
        <div class="chat-container" id="chat-container">
            <div class="chat-header">
                <h3>AI Assistant</h3>
                <button class="close-chat" id="close-chat"><i class="fas fa-times"></i></button>
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="message bot">
                    Hi there! I'm your AI assistant. How can I help you today?
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chat-input" placeholder="Type your message here...">
                <button id="send-message"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <!-- Typing Game Modal -->
    <div class="modal" id="typing-game-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-typing-modal">&times;</button>
            <h2>Typing Test</h2>
            <div class="typing-game">
                <div class="quote-display" id="quote-display"></div>
                <textarea class="quote-input" id="quote-input" placeholder="Type the text here as soon as the game starts..." autofocus></textarea>
                <div class="typing-stats">
                    <div class="stat">
                        <div class="stat-value" id="wpm">0</div>
                        <div class="stat-label">WPM</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="accuracy">100%</div>
                        <div class="stat-label">Accuracy</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="timer">60</div>
                        <div class="stat-label">Seconds</div>
                    </div>
                </div>
                <button class="btn" id="start-typing-game">Start Game</button>
            </div>
        </div>
    </div>

    <!-- Reaction Game Modal -->
    <div class="modal" id="reaction-game-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-reaction-modal">&times;</button>
            <h2>Reaction Time Test</h2>
            <div class="reaction-game">
                <div class="reaction-instructions">
                    <p>Click the target as quickly as possible when it appears. The game will test your reaction time 5 times.</p>
                </div>
                <div class="reaction-box" id="reaction-box">
                    <div class="target" id="target"></div>
                    <p id="reaction-waiting">Get ready...</p>
                </div>
                <div class="reaction-stats">
                    <div class="stat">
                        <div class="stat-value" id="current-time">0 ms</div>
                        <div class="stat-label">Current</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="best-time">0 ms</div>
                        <div class="stat-label">Best</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="attempt">0/5</div>
                        <div class="stat-label">Attempts</div>
                    </div>
                </div>
                <button class="btn" id="start-reaction-game">Start Test</button>
            </div>
        </div>
    </div>

    <!-- Memory Game Modal -->
    <div class="modal" id="memory-game-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-memory-modal">&times;</button>
            <h2>Memory Game</h2>
            <div class="memory-game">
                <div class="memory-board" id="memory-board"></div>
                <div class="memory-stats">
                    <div class="stat">
                        <div class="stat-value" id="memory-matches">0</div>
                        <div class="stat-label">Matches</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="memory-flips">0</div>
                        <div class="stat-label">Flips</div>
                    </div>
                </div>
                <button class="btn" id="start-memory-game">Start Game</button>
            </div>
        </div>
    </div>

    <!-- Tic Tac Toe Modal -->
    <div class="modal" id="tictactoe-game-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-tictactoe-modal">&times;</button>
            <h2>Tic Tac Toe</h2>
            <div class="tictactoe-game">
                <div class="tictactoe-controls">
                    <label><input type="checkbox" id="cpu-opponent" checked> Play vs CPU</label>
                    <button class="btn" id="restart-tictactoe">Restart</button>
                </div>
                <div class="tictactoe-board" id="tictactoe-board" role="grid" aria-label="Tic Tac Toe board">
                    <div class="tictactoe-cell" data-index="0" role="button" aria-label="cell 0"></div>
                    <div class="tictactoe-cell" data-index="1" role="button" aria-label="cell 1"></div>
                    <div class="tictactoe-cell" data-index="2" role="button" aria-label="cell 2"></div>
                    <div class="tictactoe-cell" data-index="3" role="button" aria-label="cell 3"></div>
                    <div class="tictactoe-cell" data-index="4" role="button" aria-label="cell 4"></div>
                    <div class="tictactoe-cell" data-index="5" role="button" aria-label="cell 5"></div>
                    <div class="tictactoe-cell" data-index="6" role="button" aria-label="cell 6"></div>
                    <div class="tictactoe-cell" data-index="7" role="button" aria-label="cell 7"></div>
                    <div class="tictactoe-cell" data-index="8" role="button" aria-label="cell 8"></div>
                </div>
                <div id="tictactoe-status" style="margin-top:12px; text-align:center;"></div>
            </div>
        </div>
    </div>

    <script>
        // Theme Toggling
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = themeToggle.querySelector('i');
        const body = document.body;

        const themes = ['light', 'dark', 'fun', 'high-contrast'];
        let currentThemeIndex = 0;

        // Check for saved theme preference or respect OS preference
        if (localStorage.getItem('theme')) {
            body.setAttribute('data-theme', localStorage.getItem('theme'));
            // Set currentThemeIndex based on saved theme
            currentThemeIndex = themes.indexOf(localStorage.getItem('theme'));
        } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            body.setAttribute('data-theme', 'dark');
            currentThemeIndex = 1;
        }

        // Update icon based on current theme
        updateThemeIcon();

        themeToggle.addEventListener('click', () => {
            currentThemeIndex = (currentThemeIndex + 1) % themes.length;
            const newTheme = themes[currentThemeIndex];
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon();
        });

        function updateThemeIcon() {
            const currentTheme = body.getAttribute('data-theme');
            if (currentTheme === 'dark') {
                themeIcon.className = 'fas fa-moon';
            } else if (currentTheme === 'fun') {
                themeIcon.className = 'fas fa-paint-brush';
            } else if (currentTheme === 'high-contrast') {
                themeIcon.className = 'fas fa-assistive-listening-systems';
            } else {
                themeIcon.className = 'fas fa-sun';
            }
        }

        // Mobile Navigation
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('nav-links');

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            hamburger.innerHTML = navLinks.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
        });

        // Close mobile nav when clicking on a link (ignore dropdown toggles)
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                if (!link.classList.contains('dropdown-toggle')) {
                    navLinks.classList.remove('active');
                    hamburger.innerHTML = '<i class="fas fa-bars"></i>';
                }
            });
        });

        // Scroll Animations
        const sections = document.querySelectorAll('section');

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('section-visible');
                    // If it's the stats section, animate the counters
                    if (entry.target.id === 'stats') {
                        animateCounters();
                    }
                    // If it's the skills section, animate progress bars
                    if (entry.target.id === 'skills') {
                        animateProgressBars();
                    }
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            section.classList.add('section-hidden');
            observer.observe(section);
        });

        // Animate Progress Bars
        function animateProgressBars() {
            const progressBars = document.querySelectorAll('.progress');
            progressBars.forEach(bar => {
                const width = bar.getAttribute('data-width');
                bar.style.width = width + '%';
            });
        }

        // Animate Stats Counters
        function animateCounters() {
            const counters = document.querySelectorAll('.stat-number');
            const speed = 200; // The lower the slower
            
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                const count = +counter.innerText;
                const increment = Math.ceil(target / speed);
                
                if (count < target) {
                    counter.innerText = Math.min(count + increment, target);
                    setTimeout(() => animateCounters(), 1);
                }
            });
        }

        // Joke Generator
        const jokes = [
            { joke: "Why don't programmers like nature?", punchline: "Too many bugs." },
            { joke: "Why was the computer cold?", punchline: "It left its Windows open." },
            { joke: "Why was the JavaScript developer sad?", punchline: "He didn't know how to null his feelings." },
            { joke: "Why don't programmers like arrays?", punchline: "Because they start counting at 0." },
            { joke: "Why was the computer tired?", punchline: "Because it had a hard drive." },
            { joke: "How do you comfort a JavaScript bug?", punchline: "You console it." },
            { joke: "Why did the computer sneeze?", punchline: "It caught a bad cache." },
            { joke: "Why do programmers always mix up Christmas and Halloween?", punchline: "Because Oct 31 == Dec 25." },
            { joke: "Why can't computers play football?", punchline: "They don't like getting booted." },
            { joke: "Why don't keyboards sleep?", punchline: "They have two shifts." },
            { joke: "Why do Python programmers wear glasses?", punchline: "Because they don't C#." },
            { joke: "Why did the web developer go broke?", punchline: "Because he worked for exposure." },
            { joke: "Why was the computer so smart?", punchline: "It listened to its motherboard." },
            { joke: "Why did the AI cross the road?", punchline: "To optimize the chicken's route." },
            { joke: "Why did the PowerPoint presentation cross the road?", punchline: "To get to the other slide." },
            { joke: "Why was the IT teacher always calm?", punchline: "Because she had good control." },
            { joke: "Why did the computer keep freezing?", punchline: "Someone left the Windows open." },
            { joke: "Why was the coder always broke?", punchline: "Because he kept working for free 'cookies'." },
            { joke: "Why did the hacker go broke?", punchline: "Because he lost his cache." },
            { joke: "Why don't computers argue?", punchline: "They always find common logic." },
            { joke: "Why did the programmer quit his job?", punchline: "Because he didn't get arrays." },
            { joke: "How do you comfort a C++ bug?", punchline: "You give it a pointer." },
            { joke: "Why did the computer go to therapy?", punchline: "Too many unresolved dependencies." },
            { joke: "Why did the developer go broke?", punchline: "Because he used up all his cache." },
            { joke: "What do you call a programmer from Finland?", punchline: "Nerdic." },
            { joke: "Why did the website go to school?", punchline: "To improve its class." },
            { joke: "Why don't computers take their hats off?", punchline: "They have bad caps lock." },
            { joke: "Why did the CPU break up with the RAM?", punchline: "It needed more space." },
            { joke: "How does a hacker break up with their partner?", punchline: "Ctrl + Alt + Del." },
            { joke: "Why did the coder cross the road?", punchline: "To optimize the chicken's path." },
            { joke: "Why don’t scientists trust atoms?", punchline: "Because they make up everything." },
            { joke: "I told my computer I needed a break.", punchline: "It froze." },
            { joke: "Why did the math book look sad?", punchline: "Too many problems." },
            { joke: "I tried to catch fog yesterday.", punchline: "Mist." },
            { joke: "Why don’t skeletons fight each other?", punchline: "They don’t have the guts." },
            { joke: "Parallel lines have so much in common.", punchline: "It’s a shame they’ll never meet." },
            { joke: "Why did the scarecrow win an award?", punchline: "Outstanding in his field." },
            { joke: "I used to play piano by ear…", punchline: "Now I use my hands." },
            { joke: "Why was six afraid of seven?", punchline: "Because seven eight nine." },
            { joke: "I asked my dog what’s two minus two.", punchline: "He said nothing." },
            { joke: "Why can’t you hear a pterodactyl go to the bathroom?", punchline: "The 'P' is silent." },
            { joke: "I bought shoes from a drug dealer once…", punchline: "I don’t know what he laced them with." },
            { joke: "Why did the bicycle fall over?", punchline: "It was two-tired." },
            { joke: "I told a joke about time travel…", punchline: "You didn’t like it." },
            { joke: "Why don’t eggs tell jokes?", punchline: "They’d crack up." },
            { joke: "What do you call fake spaghetti?", punchline: "An impasta." },
            { joke: "Why did the golfer bring two pairs of pants?", punchline: "In case he got a hole in one." },
            { joke: "I used to be addicted to soap…", punchline: "But I’m clean now." },
            { joke: "Why did the tomato blush?", punchline: "It saw the salad dressing." },
            { joke: "I tried reading a book on anti-gravity.", punchline: "I couldn’t put it down." },
            { joke: "Why did the math teacher go to the beach?", punchline: "To work on tan." },
            { joke: "Why don’t oysters donate to charity?", punchline: "They’re shellfish." },
            { joke: "I once ate a clock.", punchline: "It was time-consuming." },
            { joke: "Why was the stadium so cool?", punchline: "It was full of fans." },
            { joke: "What do you call cheese that isn’t yours?", punchline: "Nacho cheese." },
            { joke: "Why did the picture go to jail?", punchline: "It was framed." },
            { joke: "Why did the cookie go to the doctor?", punchline: "It felt crummy." },
            { joke: "I told my suitcase there will be no vacations this year.", punchline: "Now it’s depressed." }
        ];

        const jokeText = document.getElementById('joke-text');
        const punchline = document.getElementById('punchline');
        const revealBtn = document.getElementById('reveal-btn');
        const newJokeBtn = document.getElementById('new-joke-btn');

        let currentJokeIndex = 0;

        // Typewriter effect for jokes and punchlines
        function typewriterEffect(element, text, speed = 32, callback) {
            element.textContent = '';
            let i = 0;
            function type() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else if (callback) {
                    callback();
                }
            }
            type();
        }

        function showNewJoke() {
            currentJokeIndex = Math.floor(Math.random() * jokes.length);
            punchline.style.opacity = '0';
            revealBtn.textContent = 'Reveal Punchline';
            typewriterEffect(jokeText, jokes[currentJokeIndex].joke, 32);
            punchline.textContent = '';
        }

        revealBtn.addEventListener('click', () => {
            if (punchline.style.opacity === '0') {
                // Type out the punchline
                typewriterEffect(punchline, jokes[currentJokeIndex].punchline, 32, () => {
                    punchline.style.opacity = '1';
                });
                revealBtn.textContent = 'Hide Punchline';
            } else {
                punchline.style.opacity = '0';
                punchline.textContent = '';
                revealBtn.textContent = 'Reveal Punchline';
            }
        });

        newJokeBtn.addEventListener('click', showNewJoke);

        // Initialize with a joke
        showNewJoke();

        // Typing Game
        const typingGameBtn = document.getElementById('typing-game-btn');
        const typingGameModal = document.getElementById('typing-game-modal');
        const closeTypingModal = document.getElementById('close-typing-modal');
        const quoteDisplay = document.getElementById('quote-display');
        const quoteInput = document.getElementById('quote-input');
        const wpmElement = document.getElementById('wpm');
        const accuracyElement = document.getElementById('accuracy');
        const timerElement = document.getElementById('timer');
        const startTypingGameBtn = document.getElementById('start-typing-game');

        const quotes = [
            "The first computer bug was an actual moth trapped in a Harvard Mark II computer in 1947.",
            "Email existed before the World Wide Web was invented in 1989 by Tim Berners-Lee.",
            "The first computer mouse was made of wood and was invented by Doug Engelbart in 1964.",
            "The first 1GB hard drive was announced in 1980 which weighed about 550 pounds and cost $40,000.",
            "The programming language Python is named after the British comedy group Monty Python, not the snake.",
            "The world's first computer programmer was a woman named Ada Lovelace in the 1840s.",
            "The original name for Java was Oak, but it was changed due to trademark issues.",
            "There are over 700 programming languages in existence today, with more being created regularly.",
            "The first video game was created in 1961 by MIT students on a PDP-1 computer.",
            "CAPTCHA stands for Completely Automated Public Turing test to tell Computers and Humans Apart."
        ];

        let timer;
        let timeLeft = 60;
        let gameActive = false;
        let startTime;

        typingGameBtn.addEventListener('click', () => {
            typingGameModal.classList.add('visible');
            resetTypingGame();
        });

        closeTypingModal.addEventListener('click', () => {
            typingGameModal.classList.remove('visible');
            clearInterval(timer);
        });

        startTypingGameBtn.addEventListener('click', startTypingGame);

        function resetTypingGame() {
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            quoteDisplay.innerHTML = '';
            quoteInput.value = '';
            quoteInput.disabled = true;
            wpmElement.textContent = '0';
            accuracyElement.textContent = '100%';
            timerElement.textContent = '60';
            timeLeft = 60;
            gameActive = false;
            startTypingGameBtn.textContent = 'Start Game';
            
            // Display quote with character spans
            randomQuote.split('').forEach(char => {
                const charSpan = document.createElement('span');
                charSpan.innerText = char;
                quoteDisplay.appendChild(charSpan);
            });
        }

        function startTypingGame() {
            if (gameActive) return;
            
            gameActive = true;
            startTime = new Date();
            timeLeft = 60;
            quoteInput.value = '';
            quoteInput.disabled = false;
            quoteInput.focus();
            startTypingGameBtn.textContent = 'Game in progress...';
            startTypingGameBtn.disabled = true;
            
            // Reset character colors
            document.querySelectorAll('#quote-display span').forEach(span => {
                span.classList.remove('correct', 'incorrect');
            });
            
            // Start timer
            timer = setInterval(() => {
                timeLeft--;
                timerElement.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    endTypingGame();
                }
            }, 1000);
            
            // Handle input
            quoteInput.addEventListener('input', () => {
                if (!gameActive) return;
                
                const quoteChars = quoteDisplay.querySelectorAll('span');
                const inputChars = quoteInput.value.split('');
                
                let correct = true;
                let correctChars = 0;
                
                quoteChars.forEach((charSpan, index) => {
                    const char = inputChars[index];
                    
                    if (char == null) {
                        charSpan.classList.remove('correct', 'incorrect');
                        correct = false;
                    } else if (char === charSpan.innerText) {
                        charSpan.classList.add('correct');
                        charSpan.classList.remove('incorrect');
                        correctChars++;
                    } else {
                        charSpan.classList.add('incorrect');
                        charSpan.classList.remove('correct');
                        correct = false;
                    }
                });
                
                // Calculate WPM and accuracy
                const elapsedTime = (new Date() - startTime) / 1000 / 60; // in minutes
                const wordsTyped = inputChars.length / 5;
                const wpm = Math.round(wordsTyped / elapsedTime);
                
                const accuracy = inputChars.length > 0 
                    ? Math.round((correctChars / inputChars.length) * 100) 
                    : 100;
                
                wpmElement.textContent = wpm;
                accuracyElement.textContent = accuracy + '%';
                
                // If all characters are correct, end game
                if (correct && inputChars.length === quoteChars.length) {
                    endTypingGame();
                }
            });
        }

        function endTypingGame() {
            clearInterval(timer);
            gameActive = false;
            quoteInput.disabled = true;
            startTypingGameBtn.textContent = 'Play Again';
            startTypingGameBtn.disabled = false;
            
            // Save score to progress tracker
            const wpm = parseInt(wpmElement.textContent);
            const accuracy = parseInt(accuracyElement.textContent);
            saveGameScore('typing', { wpm, accuracy });
        }

        // Reaction Game
        const reactionGameBtn = document.getElementById('reaction-game-btn');
        const reactionGameModal = document.getElementById('reaction-game-modal');
        const closeReactionModal = document.getElementById('close-reaction-modal');
        const reactionBox = document.getElementById('reaction-box');
        const target = document.getElementById('target');
        const currentTimeElement = document.getElementById('current-time');
        const bestTimeElement = document.getElementById('best-time');
        const attemptElement = document.getElementById('attempt');
        const startReactionGameBtn = document.getElementById('start-reaction-game');
        const reactionWaiting = document.getElementById('reaction-waiting');

        let reactionGameActive = false;
        let bestTime = Infinity;
        let attempts = 0;
        let startTimeReaction;
        let timeoutId;

        reactionGameBtn.addEventListener('click', () => {
            reactionGameModal.classList.add('visible');
            resetReactionGame();
        });

        closeReactionModal.addEventListener('click', () => {
            reactionGameModal.classList.remove('visible');
            clearTimeout(timeoutId);
            reactionGameActive = false;
        });

        startReactionGameBtn.addEventListener('click', startReactionGame);

        function resetReactionGame() {
            reactionGameActive = false;
            target.style.display = 'none';
            reactionWaiting.style.display = 'block';
            currentTimeElement.textContent = '0 ms';
            attemptElement.textContent = '0/5';
            bestTimeElement.textContent = bestTime === Infinity ? '0 ms' : bestTime + ' ms';
            startReactionGameBtn.textContent = 'Start Test';
            attempts = 0;
        }

        function startReactionGame() {
            if (reactionGameActive) return;
            
            reactionGameActive = true;
            attempts = 0;
            startReactionGameBtn.textContent = 'Test in progress...';
            startReactionGameBtn.disabled = true;
            
            nextAttempt();
        }

        function nextAttempt() {
            if (attempts >= 5) {
                endReactionGame();
                return;
            }
            
            reactionWaiting.style.display = 'block';
            target.style.display = 'none';
            
            // Random delay between 1-5 seconds
            const delay = Math.random() * 4000 + 1000;
            
            timeoutId = setTimeout(() => {
                reactionWaiting.style.display = 'none';
                target.style.display = 'block';
                
                // Random position within the box
                const boxSize = reactionBox.offsetWidth - target.offsetWidth;
                const randomX = Math.random() * boxSize;
                const randomY = Math.random() * boxSize;
                
                target.style.left = randomX + 'px';
                target.style.top = randomY + 'px';
                
                startTimeReaction = new Date();
            }, delay);
            
            attempts++;
            attemptElement.textContent = attempts + '/5';
        }

        target.addEventListener('click', () => {
            if (!reactionGameActive || target.style.display === 'none') return;
            
            const reactionTime = new Date() - startTimeReaction;
            currentTimeElement.textContent = reactionTime + ' ms';
            
            if (reactionTime < bestTime) {
                bestTime = reactionTime;
                bestTimeElement.textContent = bestTime + ' ms';
            }
            
            nextAttempt();
        });

        function endReactionGame() {
            reactionGameActive = false;
            target.style.display = 'none';
            reactionWaiting.style.display = 'block';
            startReactionGameBtn.textContent = 'Start New Test';
            startReactionGameBtn.disabled = false;
            
            // Save score to progress tracker
            saveGameScore('reaction', { bestTime });
        }

        // Memory Game
        const memoryGameBtn = document.getElementById('memory-game-btn');
        const memoryGameModal = document.getElementById('memory-game-modal');
        const closeMemoryModal = document.getElementById('close-memory-modal');
        const memoryBoard = document.getElementById('memory-board');
        const memoryMatchesElement = document.getElementById('memory-matches');
        const memoryFlipsElement = document.getElementById('memory-flips');
        const startMemoryGameBtn = document.getElementById('start-memory-game');

        let memoryGameActive = false;
        let memoryCards = [];
        let flippedCards = [];
        let matches = 0;
        let flips = 0;

        const memoryIcons = ['🍎', '🍌', '🍇', '🍉', '🍓', '🍒', '🍍', '🥝'];

        memoryGameBtn.addEventListener('click', () => {
            memoryGameModal.classList.add('visible');
            resetMemoryGame();
        });

        closeMemoryModal.addEventListener('click', () => {
            memoryGameModal.classList.remove('visible');
            memoryGameActive = false;
        });

        startMemoryGameBtn.addEventListener('click', startMemoryGame);

        function resetMemoryGame() {
            memoryBoard.innerHTML = '';
            memoryMatchesElement.textContent = '0';
            memoryFlipsElement.textContent = '0';
            matches = 0;
            flips = 0;
            flippedCards = [];
            memoryGameActive = false;
            startMemoryGameBtn.textContent = 'Start Game';
        }

        function startMemoryGame() {
            if (memoryGameActive) return;
            memoryGameActive = true;
            startMemoryGameBtn.textContent = 'Game in progress...';
            startMemoryGameBtn.disabled = true;

            // Create cards
            memoryCards = [...memoryIcons, ...memoryIcons].sort(() => Math.random() - 0.5);
            memoryCards.forEach((icon, index) => {
                const card = document.createElement('div');
                card.classList.add('memory-card');
                card.dataset.icon = icon;
                card.dataset.index = index;
                card.addEventListener('click', flipCard);
                memoryBoard.appendChild(card);
            });
        }

        function flipCard(e) {
            if (!memoryGameActive || flippedCards.length >= 2 || e.target.classList.contains('flipped')) return;

            const card = e.target;
            card.classList.add('flipped');
            card.textContent = card.dataset.icon;
            flippedCards.push(card);
            flips++;
            memoryFlipsElement.textContent = flips;

            if (flippedCards.length === 2) {
                checkMatch();
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            if (card1.dataset.icon === card2.dataset.icon) {
                matches++;
                memoryMatchesElement.textContent = matches;
                flippedCards = [];
                if (matches === memoryIcons.length) {
                    endMemoryGame();
                }
            } else {
                setTimeout(() => {
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    card1.textContent = '';
                    card2.textContent = '';
                    flippedCards = [];
                }, 1000);
            }
        }

        function endMemoryGame() {
            memoryGameActive = false;
            startMemoryGameBtn.textContent = 'Play Again';
            startMemoryGameBtn.disabled = false;
            
            // Save score to progress tracker
            saveGameScore('memory', { matches, flips });
        }

        // Tic Tac Toe Game
        const tttBtn = document.getElementById('tictactoe-game-btn');
        const tttModal = document.getElementById('tictactoe-game-modal');
        const closeTttModal = document.getElementById('close-tictactoe-modal');
        const tttBoard = document.getElementById('tictactoe-board');
        const tttCells = Array.from(document.querySelectorAll('.tictactoe-cell'));
        const tttStatus = document.getElementById('tictactoe-status');
        const restartTttBtn = document.getElementById('restart-tictactoe');
        const cpuOpponentCheckbox = document.getElementById('cpu-opponent');

        let tttState = Array(9).fill(null);
        let tttTurn = 'X'; // player is X
        let tttActive = false;

        function openTtt() {
            tttModal.classList.add('visible');
            resetTtt();
        }

        function closeTtt() {
            tttModal.classList.remove('visible');
            tttActive = false;
        }

        function resetTtt() {
            tttState = Array(9).fill(null);
            tttTurn = 'X';
            tttActive = true;
            tttCells.forEach(c => { c.textContent = ''; c.classList.remove('disabled'); c.style.backgroundColor = ''; });
            tttStatus.textContent = "Your turn (X)";
        }

        function checkTttWin(state) {
            const wins = [
                [0,1,2],[3,4,5],[6,7,8],
                [0,3,6],[1,4,7],[2,5,8],
                [0,4,8],[2,4,6]
            ];
            for (const combo of wins) {
                const [a,b,c] = combo;
                if (state[a] && state[a] === state[b] && state[a] === state[c]) return { winner: state[a], combo };
            }
            if (state.every(Boolean)) return { winner: 'draw' };
            return null;
        }

        function cpuMove() {
            const empty = tttState.map((v,i)=>v?null:i).filter(v=>v!==null);
            if (empty.length === 0) return;
            // simple random move
            const pick = empty[Math.floor(Math.random()*empty.length)];
            makeMove(pick, 'O');
        }

        function makeMove(index, mark) {
            if (!tttActive || tttState[index]) return;
            tttState[index] = mark;
            const cell = tttCells[index];
            cell.textContent = mark;
            cell.classList.add('disabled');

            const result = checkTttWin(tttState);
            if (result) {
                tttActive = false;
                if (result.winner === 'draw') {
                    tttStatus.textContent = 'Draw!';
                } else {
                    tttStatus.textContent = `${result.winner} wins!`;
                    // highlight winning combo
                    result.combo.forEach(i => tttCells[i].style.backgroundColor = 'var(--accent)');
                }
                return;
            }

            // switch turn
            if (mark === 'X') {
                if (cpuOpponentCheckbox.checked) {
                    // allow slight delay for CPU
                    setTimeout(() => cpuMove(), 350);
                    tttStatus.textContent = 'CPU thinking...';
                } else {
                    tttStatus.textContent = "O's turn";
                }
            } else {
                tttStatus.textContent = "Your turn (X)";
            }
        }

        tttCells.forEach(cell => {
            cell.addEventListener('click', () => {
                const idx = Number(cell.dataset.index);
                if (!tttActive) return;
                if (tttState[idx]) return;
                makeMove(idx, tttTurn);
            });
        });

        tttBtn.addEventListener('click', openTtt);
        closeTttModal.addEventListener('click', closeTtt);
        restartTttBtn.addEventListener('click', resetTtt);

        // Interactive Quizzes
        const quizQuestion = document.getElementById('quiz-question');
        const quizOptions = document.getElementById('quiz-options');
        const quizResult = document.getElementById('quiz-result');
        const newQuizBtn = document.getElementById('new-quiz-btn');

        const quizzes = [
            {
                question: "What does 'HTTP' stand for?",
                options: ["HyperText Transfer Protocol", "High Tech Transfer Process", "HyperText Transmission Protocol", "Hyper Transfer Text Protocol"],
                answer: 0
            },
            {
                question: "Who painted the Mona Lisa?",
                options: ["Vincent van Gogh", "Pablo Picasso", "Leonardo da Vinci", "Michelangelo"],
                answer: 2
            },
            {
                question: "What is the capital of Japan?",
                options: ["Seoul", "Beijing", "Tokyo", "Bangkok"],
                answer: 2
            },
            {
                question: "Which element has the chemical symbol 'O'?",
                options: ["Gold", "Oxygen", "Osmium", "Oganesson"],
                answer: 1
            },
            {
                question: "Who wrote Romeo and Juliet?",
                options: ["Charles Dickens", "William Shakespeare", "Jane Austen", "Mark Twain"],
                answer: 1
            },
            {
                question: "What planet is known as the red planet?",
                options: ["Venus", "Mars", "Jupiter"],
                answer: 1
            },
            {
                question: "How many continents are there?",
                options: ["5", "6", "7"],
                answer: 2
            },
            {
                question: "What gas do plants absorb?",
                options: ["Oxygen", "Carbon Dioxide", "Nitrogen"],
                answer: 1
            },
            {
                question: "Who invented the light bulb (commonly credited)?",
                options: ["Edison", "Tesla", "Newton"],
                answer: 0
            },
            {
                question: "What is the largest ocean?",
                options: ["Atlantic", "Indian", "Pacific"],
                answer: 2
            },
            {
                question: "How many bones are in the adult human body?",
                options: ["206", "210", "198"],
                answer: 0
            },
            {
                question: "What is the fastest land animal?",
                options: ["Lion", "Horse", "Cheetah"],
                answer: 2
            },
            {
                question: "Which planet has rings?",
                options: ["Saturn", "Earth", "Mars"],
                answer: 0
            },
            {
                question: "What is H₂O?",
                options: ["Salt", "Water", "Hydrogen"],
                answer: 1
            },
            {
                question: "What country has the most people?",
                options: ["India", "China", "USA"],
                answer: 1
            },
            {
                question: "What force keeps us on the ground?",
                options: ["Magnetism", "Gravity", "Friction"],
                answer: 1
            },
            {
                question: "Which animal is known as man’s best friend?",
                options: ["Cat", "Horse", "Dog"],
                answer: 2
            },
            {
                question: "What part of the plant does photosynthesis happen in?",
                options: ["Root", "Leaf", "Stem"],
                answer: 1
            },
            {
                question: "How many days are in a leap year?",
                options: ["365", "366", "364"],
                answer: 1
            },
            {
                question: "Which organ pumps blood?",
                options: ["Lungs", "Brain", "Heart"],
                answer: 2
            },
            {
                question: "What is the capital of Australia?",
                options: ["Sydney", "Melbourne", "Canberra"],
                answer: 2
            },
            {
                question: "What shape has 3 sides?",
                options: ["Square", "Triangle", "Circle"],
                answer: 1
            },
            {
                question: "Which metal is liquid at room temperature?",
                options: ["Iron", "Mercury", "Aluminum"],
                answer: 1
            },
            {
                question: "What do bees make?",
                options: ["Wax", "Honey", "Milk"],
                answer: 1
            },
            {
                question: "How many colors are in a rainbow?",
                options: ["6", "7", "8"],
                answer: 1
            },
            {
                question: "What organ helps you breathe?",
                options: ["Stomach", "Lungs", "Liver"],
                answer: 1
            },
            {
                question: "What planet do we live on?",
                options: ["Mars", "Earth", "Venus"],
                answer: 1
            },
            {
                question: "Which animal is the largest?",
                options: ["Elephant", "Blue Whale", "Giraffe"],
                answer: 1
            },
            {
                question: "What is frozen water called?",
                options: ["Ice", "Steam", "Snow"],
                answer: 0
            },
            {
                question: "How many legs does a spider have?",
                options: ["6", "8", "10"],
                answer: 1
            },
            {
                question: "What star is closest to Earth?",
                options: ["Sirius", "Sun", "Alpha Centauri"],
                answer: 1
            },
            {
                question: "What do you call a baby cat?",
                options: ["Cub", "Puppy", "Kitten"],
                answer: 2
            },
            {
                question: "What do plants need to grow?",
                options: ["Sunlight", "Darkness", "Noise"],
                answer: 0
            },
            {
                question: "Which sense do you use to hear?",
                options: ["Sight", "Smell", "Hearing"],
                answer: 2
            },
            {
                question: "What instrument has keys, pedals, and strings?",
                options: ["Guitar", "Piano", "Violin"],
                answer: 1
            }
        ];

        let currentQuizIndex = 0;
        let correctAnswers = 0;
        let totalQuestions = 0;

        function showNewQuiz() {
            currentQuizIndex = Math.floor(Math.random() * quizzes.length);
            const quiz = quizzes[currentQuizIndex];
            quizQuestion.textContent = quiz.question;
            quizOptions.innerHTML = '';
            quizResult.textContent = '';
            quiz.options.forEach((option, index) => {
                const optionElem = document.createElement('div');
                optionElem.classList.add('quiz-option');
                optionElem.textContent = option;
                optionElem.addEventListener('click', () => checkAnswer(index));
                quizOptions.appendChild(optionElem);
            });
        }

        function checkAnswer(selected) {
            const quiz = quizzes[currentQuizIndex];
            totalQuestions++;
            
            if (selected === quiz.answer) {
                quizResult.textContent = 'Correct!';
                correctAnswers++;
            } else {
                quizResult.textContent = `Wrong! The correct answer is ${quiz.options[quiz.answer]}.`;
            }
            
            // Save quiz progress
            saveQuizProgress(correctAnswers, totalQuestions);
            
            // Disable options after selection
            document.querySelectorAll('.quiz-option').forEach(opt => opt.style.pointerEvents = 'none');
        }

        newQuizBtn.addEventListener('click', showNewQuiz);

        // Initialize with a quiz
        showNewQuiz();

        // Search Function (improved)
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');

        function buildSearchIndex() {
            const index = [];

            // Sections
            document.querySelectorAll('section').forEach(sec => {
                const title = sec.querySelector('h2')?.innerText || sec.id;
                const snippet = Array.from(sec.querySelectorAll('p, h3')).map(el => el.innerText).join(' ').slice(0, 200);
                index.push({ title, type: 'section', snippet, href: `#${sec.id}` });
            });

            // Funfacts
            document.querySelectorAll('.funfact-back p').forEach((p, i) => {
                index.push({ title: p.innerText.slice(0, 60), type: 'funfact', snippet: p.innerText, href: '#funfacts', dataIndex: i });
            });

            // Jokes
            jokes.forEach((j, i) => {
                index.push({ title: j.joke, type: 'joke', snippet: j.punchline, href: '#jokes', dataIndex: i });
            });

            // Quizzes
            quizzes.forEach((q, i) => {
                index.push({ title: q.question, type: 'quiz', snippet: q.options.slice(0,2).join(', '), href: '#quizzes', dataIndex: i });
            });

            return index;
        }

        let searchIndex = buildSearchIndex();
        let activeSearch = -1;

        function renderSearchResults(results) {
            searchResults.innerHTML = '';
            if (!results || results.length === 0) {
                searchResults.style.display = 'none';
                return;
            }

            const ul = document.createElement('ul');
            results.forEach((r, idx) => {
                const li = document.createElement('li');
                li.setAttribute('role', 'option');
                li.dataset.index = idx;
                li.innerHTML = `<strong>${r.title}</strong> <small style="opacity:.7"> — ${r.type}</small><div style="font-size:0.9rem;color:var(--text-secondary)">${r.snippet.slice(0,120)}</div>`;
                li.addEventListener('click', () => selectSearchResult(r));
                ul.appendChild(li);
            });
            searchResults.appendChild(ul);
            searchResults.style.display = 'block';
        }

        function selectSearchResult(item) {
            searchResults.style.display = 'none';
            searchInput.value = '';

            if (item.type === 'joke') {
                // show the specific joke
                currentJokeIndex = item.dataIndex;
                typewriterEffect(jokeText, jokes[currentJokeIndex].joke, 24);
                punchline.style.opacity = '0';
                punchline.textContent = '';
                window.location.hash = '#jokes';
            } else if (item.type === 'quiz') {
                window.location.hash = '#quizzes';
                showQuizByIndex(item.dataIndex);
            } else {
                window.location.hash = item.href;
            }
        }

        function showQuizByIndex(i) {
            if (typeof i === 'number' && quizzes[i]) {
                currentQuizIndex = i;
                const quiz = quizzes[currentQuizIndex];
                quizQuestion.textContent = quiz.question;
                quizOptions.innerHTML = '';
                quiz.options.forEach((option, index) => {
                    const optionElem = document.createElement('div');
                    optionElem.classList.add('quiz-option');
                    optionElem.textContent = option;
                    optionElem.addEventListener('click', () => checkAnswer(index));
                    quizOptions.appendChild(optionElem);
                });
                quizResult.textContent = '';
            } else {
                showNewQuiz();
            }
        }

        // Simple debounce
        function debounce(fn, wait = 220) {
            let t;
            return (...args) => {
                clearTimeout(t);
                t = setTimeout(() => fn(...args), wait);
            };
        }

        searchInput.addEventListener('input', debounce((e) => {
            const q = e.target.value.trim().toLowerCase();
            if (q.length < 2) {
                searchResults.style.display = 'none';
                return;
            }

            const matches = searchIndex.filter(item => (item.title + ' ' + item.snippet).toLowerCase().includes(q));
            renderSearchResults(matches.slice(0, 8));
        }, 180));

        // keyboard navigation
        searchInput.addEventListener('keydown', (e) => {
            const list = searchResults.querySelectorAll('li');
            if (!list.length) return;
            if (e.key === 'ArrowDown') {
                activeSearch = (activeSearch + 1) % list.length;
                updateActive(list);
                e.preventDefault();
            } else if (e.key === 'ArrowUp') {
                activeSearch = (activeSearch - 1 + list.length) % list.length;
                updateActive(list);
                e.preventDefault();
            } else if (e.key === 'Enter') {
                const idx = activeSearch === -1 ? 0 : activeSearch;
                list[idx].click();
            }
        });

        function updateActive(list) {
            list.forEach((li, i) => li.classList.toggle('active', i === activeSearch));
            if (list[activeSearch]) list[activeSearch].scrollIntoView({ block: 'nearest' });
        }

        // rebuild index when content changes (e.g., we add facts/jokes dynamically)
        function refreshSearchIndex() {
            searchIndex = buildSearchIndex();
        }

        // Hide search results when clicking outside
        document.addEventListener('click', (e) => {
            if (!searchResults.contains(e.target) && e.target !== searchInput && !e.target.classList.contains('dropdown-toggle')) {
                searchResults.style.display = 'none';
                activeSearch = -1;
            }
        });

        // Make dropdown toggle work on mobile
        document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
            toggle.addEventListener('click', (e) => {
                e.preventDefault();
                const parent = toggle.closest('.nav-dropdown');
                parent.classList.toggle('open');
                const expanded = parent.classList.contains('open');
                toggle.setAttribute('aria-expanded', expanded);
            });
        });

        // Close any open dropdowns when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.nav-dropdown')) {
                document.querySelectorAll('.nav-dropdown.open').forEach(d => {
                    d.classList.remove('open');
                    const t = d.querySelector('.dropdown-toggle');
                    if (t) t.setAttribute('aria-expanded', 'false');
                });
            }
        });

        // NEW FEATURES IMPLEMENTATION

        // AI Chat Assistant
        const chatToggle = document.getElementById('chat-toggle');
        const chatContainer = document.getElementById('chat-container');
        const closeChat = document.getElementById('close-chat');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendMessage = document.getElementById('send-message');

        chatToggle.addEventListener('click', () => {
            chatContainer.classList.toggle('open');
        });

        closeChat.addEventListener('click', () => {
            chatContainer.classList.remove('open');
        });

        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(isUser ? 'user' : 'bot');
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleChatInput() {
            const message = chatInput.value.trim();
            if (message) {
                addMessage(message, true);
                chatInput.value = '';
                
                // Simulate AI response
                setTimeout(() => {
                    let response = "I'm not sure how to respond to that. Try asking about my skills, projects, or tell me a joke!";
                    
                    if (message.toLowerCase().includes('hi') || message.toLowerCase().includes('hello') || message.toLowerCase().includes('hey')) {
                        response = "Hello there! How can I help you today?";
                    } else if (message.toLowerCase().includes('skill') || message.toLowerCase().includes('what can you do')) {
                        response = "I have skills in HTML, CSS, JavaScript, Python, GoLang, and C#. I'm also good at Mathematics, Science, and Problem Solving!";
                    } else if (message.toLowerCase().includes('project') || message.toLowerCase().includes('what have you built')) {
                        response = "I've completed 5 projects so far, including this website! I've also made contributions to open source projects on GitHub.";
                    } else if (message.toLowerCase().includes('joke') || message.toLowerCase().includes('funny')) {
                        const randomJoke = jokes[Math.floor(Math.random() * jokes.length)];
                        response = `${randomJoke.joke} ${randomJoke.punchline}`;
                    } else if (message.toLowerCase().includes('hobby') || message.toLowerCase().includes('interest')) {
                        response = "I love coding, learning new technologies, reading books, and discovering fun tech facts!";
                    } else if (message.toLowerCase().includes('age') || message.toLowerCase().includes('old')) {
                        response = "I'm a Year 8 student, which means I'm around 13 years old.";
                    } else if (message.toLowerCase().includes('school') || message.toLowerCase().includes('study')) {
                        response = "I enjoy Maths, Science, and English at school. They help me develop logical thinking and communication skills!";
                    }
                    
                    addMessage(response);
                }, 1000);
            }
        }

        sendMessage.addEventListener('click', handleChatInput);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleChatInput();
            }
        });

        // Progress Tracker
        function saveGameScore(gameType, scoreData) {
            let progressData = JSON.parse(localStorage.getItem('progressData')) || {};
            if (!progressData[gameType]) {
                progressData[gameType] = [];
            }
            
            progressData[gameType].push({
                date: new Date().toISOString(),
                score: scoreData
            });
            
            localStorage.setItem('progressData', JSON.stringify(progressData));
            updateProgressUI();
        }

        function saveQuizProgress(correct, total) {
            let progressData = JSON.parse(localStorage.getItem('progressData')) || {};
            if (!progressData.quizzes) {
                progressData.quizzes = [];
            }
            
            progressData.quizzes.push({
                date: new Date().toISOString(),
                correct: correct,
                total: total
            });
            
            localStorage.setItem('progressData', JSON.stringify(progressData));
            updateProgressUI();
        }

        function updateProgressUI() {
            const progressData = JSON.parse(localStorage.getItem('progressData')) || {};
            
            // Update badges based on progress
            if (progressData.quizzes && progressData.quizzes.length >= 5) {
                document.getElementById('quiz-badge').classList.remove('locked');
            }
            
            if (progressData.typing && progressData.typing.some(score => score.score.wpm >= 40)) {
                document.getElementById('typing-badge').classList.remove('locked');
            }
            
            if (progressData.memory && progressData.memory.some(score => score.score.flips <= 20)) {
                document.getElementById('memory-badge').classList.remove('locked');
            }
            
            if (progressData.reaction && progressData.reaction.some(score => score.score.bestTime <= 300)) {
                document.getElementById('reaction-badge').classList.remove('locked');
            }
            
            // Update recent scores in dashboard
            const recentScoresList = document.getElementById('recent-scores-list');
            recentScoresList.innerHTML = '';
            
            const allScores = [];
            Object.keys(progressData).forEach(gameType => {
                progressData[gameType].forEach(score => {
                    allScores.push({
                        type: gameType,
                        date: score.date,
                        score: score.score
                    });
                });
            });
            
            // Sort by date (newest first) and take top 5
            allScores.sort((a, b) => new Date(b.date) - new Date(a.date));
            const recentScores = allScores.slice(0, 5);
            
            if (recentScores.length === 0) {
                recentScoresList.innerHTML = '<li>No scores yet. Play some games!</li>';
            } else {
                recentScores.forEach(score => {
                    const li = document.createElement('li');
                    let scoreText = '';
                    
                    if (score.type === 'typing') {
                        scoreText = `Typing: ${score.score.wpm} WPM, ${score.score.accuracy}% accuracy`;
                    } else if (score.type === 'reaction') {
                        scoreText = `Reaction: ${score.score.bestTime} ms best time`;
                    } else if (score.type === 'memory') {
                        scoreText = `Memory: ${score.score.matches} matches in ${score.score.flips} flips`;
                    } else if (score.type === 'quizzes') {
                        scoreText = `Quiz: ${score.score.correct}/${score.score.total} correct`;
                    }
                    
                    li.textContent = `${new Date(score.date).toLocaleDateString()} - ${scoreText}`;
                    recentScoresList.appendChild(li);
                });
            }
        }

        // Customizable Dashboard
        const widgetCheckboxes = document.querySelectorAll('input[name="widget"]');
        const dashboardTheme = document.getElementById('dashboard-theme');
        
        // Load saved dashboard preferences
        const dashboardPrefs = JSON.parse(localStorage.getItem('dashboardPrefs')) || {
            widgets: ['recent-scores', 'favorite-games', 'suggestions'],
            theme: 'light'
        };
        
        // Apply saved preferences
        widgetCheckboxes.forEach(checkbox => {
            checkbox.checked = dashboardPrefs.widgets.includes(checkbox.value);
            toggleWidget(checkbox.value, checkbox.checked);
        });
        
        dashboardTheme.value = dashboardPrefs.theme;
        document.getElementById('dashboard').setAttribute('data-theme', dashboardPrefs.theme);
        
        // Add event listeners
        widgetCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                toggleWidget(checkbox.value, checkbox.checked);
                saveDashboardPrefs();
            });
        });
        
        dashboardTheme.addEventListener('change', () => {
            document.getElementById('dashboard').setAttribute('data-theme', dashboardTheme.value);
            saveDashboardPrefs();
        });
        
        function toggleWidget(widgetId, isVisible) {
            const widget = document.querySelector(`[data-widget="${widgetId}"]`);
            if (widget) {
                widget.style.display = isVisible ? 'block' : 'none';
            }
        }
        
        function saveDashboardPrefs() {
            const selectedWidgets = Array.from(widgetCheckboxes)
                .filter(checkbox => checkbox.checked)
                .map(checkbox => checkbox.value);
                
            const prefs = {
                widgets: selectedWidgets,
                theme: dashboardTheme.value
            };
            
            localStorage.setItem('dashboardPrefs', JSON.stringify(prefs));
        }

        // Offline Mode
        const offlineIndicator = document.getElementById('offline-indicator');
        
        window.addEventListener('online', () => {
            offlineIndicator.classList.remove('visible');
        });
        
        window.addEventListener('offline', () => {
            offlineIndicator.classList.add('visible');
        });
        
        // Register service worker for offline functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').then(registration => {
                    console.log('SW registered: ', registration);
                }).catch(registrationError => {
                    console.log('SW registration failed: ', registrationError);
                });
            });
        }

        // Accessibility Enhancements
        const increaseTextBtn = document.getElementById('increase-text');
        const decreaseTextBtn = document.getElementById('decrease-text');
        const readPageBtn = document.getElementById('read-page');
        const highContrastToggle = document.getElementById('high-contrast-toggle');
        
        let textSize = 1;
        
        increaseTextBtn.addEventListener('click', () => {
            if (textSize < 1.5) {
                textSize += 0.1;
                document.body.style.fontSize = `${textSize}rem`;
            }
        });
        
        decreaseTextBtn.addEventListener('click', () => {
            if (textSize > 0.8) {
                textSize -= 0.1;
                document.body.style.fontSize = `${textSize}rem`;
            }
        });
        
        readPageBtn.addEventListener('click', () => {
            // Simple screen reader simulation - would use Web Speech API in a real implementation
            const content = document.querySelector('section.section-visible h2')?.textContent || 
                          document.querySelector('section.section-visible p')?.textContent ||
                          "No content found";
            
            alert(`Screen Reader: ${content.substring(0, 150)}...`);
        });
        
        highContrastToggle.addEventListener('click', () => {
            if (body.getAttribute('data-theme') === 'high-contrast') {
                // Revert to previous theme
                body.setAttribute('data-theme', localStorage.getItem('theme') || 'light');
            } else {
                // Save current theme and switch to high contrast
                localStorage.setItem('previousTheme', body.getAttribute('data-theme'));
                body.setAttribute('data-theme', 'high-contrast');
            }
        });

        // Initialize
        resetTypingGame();
        resetReactionGame();
        resetMemoryGame();
        updateProgressUI();
        
        // Refresh search index now that jokes/funfacts/quizzes were updated
        if (typeof refreshSearchIndex === 'function') refreshSearchIndex();
    </script>
</body>
</html>
